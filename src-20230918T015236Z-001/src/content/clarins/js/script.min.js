b="undefined"!=typeof jQuery?jQuery:void 0,c="undefined"!=typeof i18next?i18next:void 0,d="undefined"!=typeof ga?ga:void 0,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var b,c,d,$PAGE={isLoaded:!1,isVendor:!0,isI18n:!0,VENDOR:"{YOUR VENDOR}",LANGUAGES:"undefined"!=typeof $TRANSLATIONS?Object.keys($TRANSLATIONS):[],DEFAULT_LANGUAGE:"en",CURRENT_LANGUAGE:"en",PARAMETER_NAME:"lang",RESOURCES_LANGUAGE:"undefined"!=typeof $TRANSLATIONS?$TRANSLATIONS:{},PARAMETERS:null,PATH:{Vendor:window.location.origin+"/src/content/clarins/vendors/"},HTML:{},Init:function(){console.time("Loaded Times");var n=this,o=n.FNs.getQueryParams(n,window.location.href);n&&n.DOCUMENTS(function(e){n.PARAMETERS=""!==o?o:{},n.CURRENT_LANGUAGE=n.LANGUAGES.includes(o[n.PARAMETER_NAME])?o[n.PARAMETER_NAME]:n.DEFAULT_LANGUAGE,n.FNs.setQueryParams(n,n.PARAMETERS);var t=setInterval(function(){n.isLoaded&&(n.FNs.Blocks(e,n),n.FNs.Events(e,n),n.isVendor&&n.FNs.VendorsRender(e,n),void 0!==c&&n.isI18n&&n.FNs.I18n(e,n),e&&e.Main&&(e.Main.style.visibility="visible"),e&&e.Loading&&(e.Loading.style.display="none"),clearInterval(t),console.timeEnd("Loaded Times"),console.log(n)),void 0===b&&"loaded"===document.fonts.status&&(n.isLoaded=!0)},50)})},Mouse:{Click:"ontouchstart"in document.documentElement?"touchstart":"click",Move:"ontouchstart"in document.documentElement?"touchmove":"mousemove"},DOCUMENTS:function(e){var t={Main:document.querySelector(".js--YOUR_PREFIX-main")?document.querySelector(".js--YOUR_PREFIX-main"):null,Loading:document.querySelector(".js--YOUR_PREFIX-bar")?document.querySelector(".js--YOUR_PREFIX-bar"):null,Blocks:0<document.querySelectorAll("section[data-name]").length?document.querySelectorAll("section[data-name]"):null,I18ns:0<document.querySelectorAll("[data-i18n]").length?document.querySelectorAll("[data-i18n]"):null,LanguageButtons:0<document.querySelectorAll(".js--YOUR_PREFIX-languages-item").length?document.querySelectorAll(".js--YOUR_PREFIX-languages-item"):null,Buttons:0<document.querySelectorAll(".js--YOUR_PREFIX-button").length?document.querySelectorAll(".js--YOUR_PREFIX-button"):null,TrackingList:0<document.querySelectorAll("#YOUR_PREFIX *[data-tracking]").length?document.querySelectorAll("#YOUR_PREFIX *[data-tracking]"):null};e&&"function"==typeof e&&e(t)},FNs:{API:function(e,t,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){console.time("API Times "+n),4===i.readyState&&200===i.status&&o&&"function"==typeof o&&(o(i.responseText),console.timeEnd("API Times "+n))},i.open("GET",n,!0),i.send(null)},Blocks:function(n,o,i){n&&0<n.Blocks.length&&(o.HTML.DEVICE={width:window.innerWidth||window.clientWidth||$(window).width(),height:window.innerHeight||window.clientHeight||$(window).height()},n.Blocks.forEach(function(e,t){o.HTML[e.getAttribute("data-name")]={top:e.offsetTop,width:e.innerWidth||e.clientWidth||e.clientWidth||e.offsetWidth,height:e.innerHeight||e.clientHeight||e.clientHeight||e.offsetHeight},t===n.Blocks.length-1&&i&&"function"==typeof i&&i()}))},ImageLoaded:function(e){return e.complete&&0!==e.naturalHeight},Events:function(n,o,e){n&&n.Buttons&&o.FNs.Looping(n.Buttons,function(e){e.addEventListener(o.Mouse.Click,function(e){e.preventDefault()})},"Normal Buttons Loop"),n&&n.LanguageButtons&&o.FNs.Looping(n.LanguageButtons,function(t){t.addEventListener(o.Mouse.Click,function(e){e.preventDefault(),t.getAttribute("data-lang")!==o.CURRENT_LANGUAGE&&(o.CURRENT_LANGUAGE=t.getAttribute("data-lang"),o.PARAMETERS={[o.PARAMETER_NAME]:o.CURRENT_LANGUAGE},void 0!==c&&o.isI18n&&(c.changeLanguage(o.CURRENT_LANGUAGE,e=>{if(e)return console.log("something went wrong loading",e);o.FNs.I18nRender(n,o,c)}),o.FNs.setQueryParams(o,o.PARAMETERS)))})},"Language Buttons Loop"),e&&"function"==typeof e&&e()},Looping:function(e,n,t){e&&0<e.length&&(console.time(t||"Documents"),e.forEach(function(e,t){n&&"function"==typeof n&&n(e,t)}),console.timeEnd(t||"Documents"))},I18n:function(e,t){void 0!==c&&c.init({lng:t.CURRENT_LANGUAGE,fallbackLng:t.DEFAULT_LANGUAGE,debug:!1,compatibilityJSON:"v3",resources:t.RESOURCES_LANGUAGE}).then(function(){t.FNs.I18nRender(e,t,c)})},I18nRender:function(e,t,n){e&&e.I18ns&&e.I18ns.forEach(function(e){e.innerHTML=n.t(e.getAttribute("data-i18n"))})},setQueryParams:function(e,t=null,n){var o,t=Object.keys(e.PARAMETERS).join()===Object.keys(t).join()?e.PARAMETERS:t;e.isI18n&&t&&0<Object.keys(t).length&&(o="?"+Object.entries(t).join("&").replace(/,/g,"="),e.LANGUAGES.includes(e.FNs.getQueryParams(e,window.location.href)[e.PARAMETER_NAME])||(o=o.replace(e.FNs.getQueryParams(e,window.location.href)[e.PARAMETER_NAME],e.DEFAULT_LANGUAGE)),window.history.pushState(t,"",o),n&&"function"==typeof n&&n())},getQueryParams:function(e,t,n){var o,t=t.split("?")[1],i=t?t.split("&"):void 0,a={};return t&&i?(i.forEach(function(e){o=e.split("="),a[o[0]]="undefined"!==decodeURIComponent(o[1])?decodeURIComponent(o[1]).replace(/\+/g," "):""}),n&&"function"==typeof n&&n(),a):""},GA:function(e,t,n,o){var i=e.Main.getAttribute("data-name")?e.Main.getAttribute("data-name"):null;e.TrackingList&&i&&(e.TrackingList.forEach(function(e){e.addEventListener(t.Mouse.Click,function(e){console.log(i+"-"+e.target.dataset.tracking),void 0!==d&&d("send","event",n.categories,"click",i+"-"+e.target.dataset.tracking)})}),o&&"function"==typeof o&&o())},VendorsRender:function(e,t,n){var o=e.Main.parentNode,i=t.VENDOR,a=null;switch(i&&i.toLowerCase()){case"cosma":case"kalista":case"marionnaud":case"origines":a=t.PATH.Vendor+i.toLowerCase();break;default:a=t.PATH.Vendor+"clarins"}i&&a&&o.getAttribute("data-preview")&&"true"===o.getAttribute("data-preview")&&(o.getAttribute("data-header")&&"true"===o.getAttribute("data-header")&&t.FNs.API(e,t,a+"/header.html",function(e){var t=document.createElement("div");t.innerHTML=e,o.insertBefore(t,o.children[0])}),o.getAttribute("data-footer")&&"true"===o.getAttribute("data-footer")&&t.FNs.API(e,t,a+"/footer.html",function(e){var t=document.createElement("div");t.innerHTML=e,o.appendChild(t,o.children[0])})),n&&"function"==typeof n&&n()}}}.Init();document.addEventListener("DOMContentLoaded",$PAGE);