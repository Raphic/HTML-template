(window.webpackJsonp=window.webpackJsonp||[]).push([["header-NavigationMenuItem-index-js"],{"1Esn":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return k})),i.d(e,"isCustomElement",(function(){return w}));var s=i("cvzg"),n=i.n(s),o=i("/sAY"),a=i.n(o),u=i("30kP"),r=i.n(u),l=i("bPvv"),h=i.n(l),c=i("Opd7"),f=i.n(c),v=i("+9ix"),d=i.n(v),y=i("qtOx"),m=i.n(y),I=i("EwM+"),b=(i("5QLS"),i("zoSX"));function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,s=d()(t);if(e){var n=d()(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return f()(this,i)}}var p=function(t){h()(i,t);var e=g(i);function i(){var t;n()(this,i);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).categoryId=t.settings.categoryId,t.setActiveItem=t.setActiveItem.bind(r()(t)),t.setInactiveItem=t.setInactiveItem.bind(r()(t)),t.pressArrowDownItem=t.pressArrowDownItem.bind(r()(t)),t.hideFlyout=t.hideFlyout.bind(r()(t)),t.tabbingElements=t.tabbingElements.bind(r()(t)),t.updateNavigation=t.updateNavigation.bind(r()(t)),t}return a()(i,[{key:"mountedCallback",value:function(){var t;this.listItem=this.parentNode,this.item=this.querySelector(".cba-level-1-item"),this.flyout=this.querySelector(".cba-navigation-flyout"),this.flyoutTabs=this.querySelectorAll(".navigation-flyout__link, .navigation-flyout__second-level a"),this.cursor=this.state.select(b.I),this.isHidden=null===(t=this.flyout)||void 0===t?void 0:t.classList.contains("hide"),this.initializeEvents(),this.updateNavigation(),this.flyoutTabs.forEach((function(t){return t.tabIndex=-1}))}},{key:"initializeEvents",value:function(){var t=this;this.listItem.addEventListener("mouseenter",this.setActiveItem),this.listItem.addEventListener("mouseleave",this.setInactiveItem),this.item.addEventListener("focusin",this.setActiveItem),this.item.addEventListener("keydown",this.pressArrowDownItem),this.flyoutTabs.forEach((function(e){return e.addEventListener("keydown",t.tabbingElements)})),this.addUpdateListener(b.I,this.hideFlyout),this.addUpdateListener(b.K,this.updateNavigation)}},{key:"setActiveItem",value:function(){this.flyout?(this.flyout.classList.remove("hide"),this.state.set(b.G,this.categoryId)):this.state.set(b.G,null),this.item.classList.add("hover"),this.state.set(b.I,this.categoryId)}},{key:"setInactiveItem",value:function(){var t=this;this.setFlyoutInvisible(),this.item.classList.remove("hover"),setTimeout((function(){t.cursor.get()!==t.categoryId||t.item.classList.contains("hover")||(t.state.set(b.I,null),t.state.set(b.G,null))}),100)}},{key:"hideFlyout",value:function(){this.categoryId!==this.cursor.get()&&(this.setFlyoutInvisible(),this.item.classList.remove("hover"))}},{key:"setFlyoutInvisible",value:function(){this.flyout&&this.flyout.classList.add("hide")}},{key:"pressArrowDownItem",value:function(t){"ArrowDown"===t.key&&(t.preventDefault(),this.flyoutTabs[0].focus()),"Tab"===t.key&&(this.setFlyoutInvisible(),this.item.classList.remove("hover"),this.state.set(b.I,null),this.state.set(b.G,null))}},{key:"tabbingElements",value:function(t){if("ArrowDown"===t.key||"ArrowUp"===t.key){t.preventDefault();var e=this.findElementIndex(t.target);"ArrowDown"===t.key&&e+1<this.flyoutTabs.length&&this.flyoutTabs[e+1].focus(),"ArrowUp"===t.key&&e>0&&this.flyoutTabs[e-1].focus()}}},{key:"findElementIndex",value:function(t){for(var e=0;e<this.flyoutTabs.length;e++)if(this.flyoutTabs[e]===t)return e;return-1}},{key:"updateNavigation",value:function(){this.flyout&&(this.updateFlyoutPosition(),this.equalizeColumns())}},{key:"updateFlyoutPosition",value:function(){var t=this.state.get(b.K);if(t){if(this.flyout.classList.contains("cba-navigation-flyout--wide"))return void(this.flyout.style.left="0px");this.flyout.classList.remove("hide");var e=this.flyout.offsetWidth;this.isHidden&&this.setFlyoutInvisible();var i=this.listItem.getBoundingClientRect(),s=i.left-t.left-(e-i.width)/2;s<0?s=0:s+e>t.width&&(s=t.width-e),this.flyout.style.left=s+"px"}}},{key:"equalizeColumns",value:function(){var t=this.querySelectorAll(".navigation-flyout__subcategory-subcategories");t.forEach((function(t){return t.style.height=null}));var e=0;this.flyout.classList.remove("hide"),t.forEach((function(t){return e=Math.max(t.offsetHeight,e)})),this.isHidden&&this.setFlyoutInvisible(),t.forEach((function(t){return t.style.height=e+"px"}))}}]),i}(I.StatefulComponent);m()(p,"TAG_NAME","i-navigation-menu-item");var w=!0,k=p},"5QLS":function(t,e,i){}}]);