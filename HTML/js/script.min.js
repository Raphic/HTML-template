var $PAGE=function(e,t,n,i){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var o={isLoaded:!1,isVendor:!1,isI18n:!1,VENDOR:"{YOUR VENDOR}",LANGUAGES:"undefined"!=typeof $TRANSLATIONS?Object.keys($TRANSLATIONS):[],DEFAULT_LANGUAGE:"en",CURRENT_LANGUAGE:"en",PARAMETER_NAME:"lang",RESOURCES_LANGUAGE:"undefined"!=typeof $TRANSLATIONS?$TRANSLATIONS:{},PARAMETERS:null,PATH:{Vendor:window.location.origin+"/src/vendors/"},HTML:{},Init:function(){console.time("Loaded Times");var t=this,i=t.FNs.getQueryParams(t,window.location.href);t&&t.DOCUMENTS(function(o){t.PARAMETERS=""!==i?i:{},t.CURRENT_LANGUAGE=t.LANGUAGES.includes(i[t.PARAMETER_NAME])?i[t.PARAMETER_NAME]:t.DEFAULT_LANGUAGE,t.FNs.setQueryParams(t,t.PARAMETERS);var a=setInterval(function(){t.isLoaded&&(t.FNs.SlickSlider.Init(o,t),t.FNs.Blocks(o,t),t.FNs.Events(o,t),t.isVendor&&t.FNs.VendorsRender(o,t),void 0!==n&&t.isI18n&&t.FNs.I18n(o,t),e&&t.FNs.GA(o,t,e),o&&o.Main&&(o.Main.style.visibility="visible"),o&&o.Loading&&(o.Loading.style.display="none"),clearInterval(a),console.timeEnd("Loaded Times"),console.log(t)),"loaded"===document.fonts.status&&(t.isLoaded=!0)},50)})},Mouse:{Click:"ontouchstart"in document.documentElement?"touchstart":"click",Move:"ontouchstart"in document.documentElement?"touchmove":"mousemove"},DOCUMENTS:function(e){var t={Main:document.querySelector(".js--bizline37090-main")?document.querySelector(".js--bizline37090-main"):null,Loading:document.querySelector(".js--bizline37090-bar")?document.querySelector(".js--bizline37090-bar"):null,Blocks:document.querySelectorAll("section[data-name]").length>0?document.querySelectorAll("section[data-name]"):null,I18ns:document.querySelectorAll("[data-i18n]").length>0?document.querySelectorAll("[data-i18n]"):null,LanguageButtons:document.querySelectorAll(".js--bizline37090-languages-item").length>0?document.querySelectorAll(".js--bizline37090-languages-item"):null,Buttons:document.querySelectorAll(".js--bizline37090-button").length>0?document.querySelectorAll(".js--bizline37090-button"):null,TrackingList:document.querySelectorAll("#bizline37090 *[data-tracking]").length>0?document.querySelectorAll("#bizline37090 *[data-tracking]"):null,ProductsSlider:$(".js--bizline37090-products")?$(".js--bizline37090-products"):null};e&&"function"==typeof e&&e(t)},FNs:{API:function(e,t,n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){console.time("API Times "+n),4===o.readyState&&200===o.status&&i&&"function"==typeof i&&(i(o.responseText),console.timeEnd("API Times "+n))},o.open("GET",n,!0),o.send(null)},Blocks:function(e,t,n){e&&e.Blocks.length>0&&(t.HTML.DEVICE={width:window.innerWidth||window.clientWidth||$(window).width(),height:window.innerHeight||window.clientHeight||$(window).height()},e.Blocks.forEach(function(i,o){t.HTML[i.getAttribute("data-name")]={top:i.offsetTop,width:i.innerWidth||i.clientWidth||i.clientWidth||i.offsetWidth,height:i.innerHeight||i.clientHeight||i.clientHeight||i.offsetHeight},o===e.Blocks.length-1&&n&&"function"==typeof n&&n()}))},ImageLoaded:function(e){return e.complete&&0!==e.naturalHeight},Events:function(e,t,i){e&&e.Buttons&&t.FNs.Looping(e.Buttons,function(e){e.addEventListener(t.Mouse.Click,function(e){e.preventDefault()})},"Normal Buttons Loop"),e&&e.LanguageButtons&&t.FNs.Looping(e.LanguageButtons,function(i){i.addEventListener(t.Mouse.Click,function(o){o.preventDefault(),i.getAttribute("data-lang")!==t.CURRENT_LANGUAGE&&(t.CURRENT_LANGUAGE=i.getAttribute("data-lang"),t.PARAMETERS={[t.PARAMETER_NAME]:t.CURRENT_LANGUAGE},void 0!==n&&t.isI18n&&(n.changeLanguage(t.CURRENT_LANGUAGE,i=>{if(i)return console.log("something went wrong loading",i);t.FNs.I18nRender(e,t,n)}),t.FNs.setQueryParams(t,t.PARAMETERS)))})},"Language Buttons Loop"),i&&"function"==typeof i&&i()},Looping:function(e,t,n){e&&e.length>0&&(console.time(n||"Documents"),e.forEach(function(e,n){t&&"function"==typeof t&&t(e,n)}),console.timeEnd(n||"Documents"))},I18n:function(e,t){void 0!==n&&n.init({lng:t.CURRENT_LANGUAGE,fallbackLng:t.DEFAULT_LANGUAGE,debug:!1,compatibilityJSON:"v3",resources:t.RESOURCES_LANGUAGE}).then(function(){t.FNs.I18nRender(e,t,n)})},I18nRender:function(e,t,n){e&&e.I18ns&&e.I18ns.forEach(function(e){e.innerHTML=n.t(e.getAttribute("data-i18n"))})},setQueryParams:function(e,t=null,n){var i=Object.keys(e.PARAMETERS).join()===Object.keys(t).join()?e.PARAMETERS:t;if(e.isI18n&&i&&Object.keys(i).length>0){var o="?"+Object.entries(i).join("&").replace(/,/g,"=");e.LANGUAGES.includes(e.FNs.getQueryParams(e,window.location.href)[e.PARAMETER_NAME])||(o=o.replace(e.FNs.getQueryParams(e,window.location.href)[e.PARAMETER_NAME],e.DEFAULT_LANGUAGE)),window.history.pushState(i,"",o),n&&"function"==typeof n&&n()}},getQueryParams:function(e,t,n){var i=t.split("?")[1],o=i?i.split("&"):void 0,a=[],r={};return i&&o?(o.forEach(function(e){a=e.split("="),r[a[0]]="undefined"!==decodeURIComponent(a[1])?decodeURIComponent(a[1]).replace(/\+/g," "):""}),n&&"function"==typeof n&&n(),r):""},GA:function(e,t,n,o){var a=e.Main.getAttribute("data-name")?e.Main.getAttribute("data-name"):null;e.TrackingList&&a&&(e.TrackingList.forEach(function(e){e.addEventListener(t.Mouse.Click,function(e){console.log(a+"-"+e.target.dataset.tracking),void 0!==i&&i("send","event",n.categories,"click",a+"-"+e.target.dataset.tracking)})}),o&&"function"==typeof o&&o())},VendorsRender:function(e,t,n){var i=e.Main.parentNode,o=t.VENDOR,a=null;switch(o&&o.toLowerCase()){case"cosma":case"kalista":case"marionnaud":case"origines":a=t.PATH.Vendor+o.toLowerCase();break;default:a=t.PATH.Vendor+"clarins"}o&&a&&i.getAttribute("data-preview")&&"true"===i.getAttribute("data-preview")&&(i.getAttribute("data-header")&&"true"===i.getAttribute("data-header")&&t.FNs.API(e,t,a+"/header.html",function(e){var t=document.createElement("div");t.innerHTML=e,i.insertBefore(t,i.children[0])}),i.getAttribute("data-footer")&&"true"===i.getAttribute("data-footer")&&t.FNs.API(e,t,a+"/footer.html",function(e){var t=document.createElement("div");t.innerHTML=e,i.appendChild(t,i.children[0])})),n&&"function"==typeof n&&n()},SlickSlider:{Init:function(e,t){var n={infinite:!0,dots:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,swipe:!0,variableWidth:!1,mobileFirst:!0};e&&e.ProductsSlider.length>0&&$.each(e.ProductsSlider,function(e,i){t.FNs.SlickSlider.CreateSlider(i,n)})},CreateSlider:function(e,t,n){e&&$(e).not(".slick-initialized").slick(t),e&&n&&$(e).slick("slickGoTo",n),setTimeout(function(){$(e).css("visibility","visible")},400)}}}};return o.Init()}(null,"undefined"!=typeof jQuery&&jQuery,"undefined"!=typeof i18next?i18next:void 0,"undefined"!=typeof ga?ga:void 0);document.addEventListener("DOMContentLoaded",$PAGE);